generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  id                     BigInt    @id @default(autoincrement())
  username               String?   @db.VarChar(100)
  email                  String    @unique @db.VarChar(255)
  password_hash          String
  avatar_url             String?
  oauth_provider         String?   @db.VarChar(50)
  oauth_provider_user_id String?   @db.VarChar(255)
  created_at             DateTime? @default(now()) @db.Timestamptz(6)
  updated_at             DateTime? @default(now()) @db.Timestamptz(6)

  @@unique([oauth_provider, oauth_provider_user_id], map: "unique_oauth_user")
}
